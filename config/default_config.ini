[Client]
; 全局热键组合，用于激活/停用语音识别
; hotkey=ctrl+shift+space
hotkey=super+space
; 服务器WebSocket连接地址
server_url=ws://127.0.0.1:8010/ws
; 默认ui界面语言设置
; language=en
locale=zh
; 音频后端设置 (alsa, pulse, oss)
audio_backend=pulse
; 是否启用文本注入功能（将转录文本输入到当前光标位置）
enable_injection=true
; 注入器类型 (smart, legacy, fallback)
; smart: 智能注入器，自动选择最佳方法（推荐）
; legacy: 旧版注入器，使用pyautogui/pyclip
; fallback: 后备注入器，只使用剪贴板粘贴/模拟键入
injector_type=smart
; 后备注入方法 (paste, type, xdotool, auto)
; paste: 剪贴板粘贴
; type: 模拟键盘输入
; xdotool: Linux xdotool工具
; auto: 自动选择
fallback_method=auto
; 是否显示文本窗口
show_text=FALSE
; 注入失败时是否显示文本窗口
show_text_on_error=false
; 是否显示桌面通知
show_notifications=false

[Server]
port=8010
; 默认语音识别模型
; FunASR模型选项：paraformer-zh, paraformer-zh-streaming, SenseVoiceSmall等
default_model=paraformer-zh-streaming
; 语音活动检测敏感度 (0-3)
vad_sensitivity=2

; VAD高级参数优化 - 基于官方FunASR文档的推荐设置
; 最大起始静音时间(ms) - 官方默认3000ms，避免过早触发
vad_max_start_silence_time=3000
; 静音到语音阈值(ms) - 官方默认150ms，平衡准确性和响应性  
vad_sil_to_speech_time=150
; 语音到静音阈值(ms) - 官方默认150ms
vad_speech_to_sil_time=150
; 最大结束静音时间(ms) - 官方默认800ms
vad_max_end_silence_time=800
; 语音噪声阈值(0.0-1.0) - 提高阈值以减少噪声误检测
vad_speech_noise_thres=0.6
; 语音开始回看时间(ms) - 官方默认200ms，捕获语音开始前的音频
vad_lookback_time_start_point=200

; 计算设备 (cpu 或 cuda:0 等)
device=cpu
; 是否使用FP16精度（仅GPU有效，CPU忽略此选项，推荐GPU设为true以节省显存）
use_fp16=false

; 缓存预热设置 - 改善流式识别初始准确度
; 是否启用缓存预热
enable_cache_warmup=true
; 预热轮数 - 发送静音数据建立上下文
warmup_rounds=3
; 默认模型语言设置
; language=en
language=zh
; FunASR使用的VAD模型
funasr_vad_model=fsmn-vad
; FunASR流式处理模式（实时识别）
funasr_streaming=true
; FunASR标点恢复模型（可选）
; funasr_punc_model=ct-punc
; FunASR时间戳预测模型（可选）
; funasr_timestamp_model=fa-zh

; FunASR流式识别优化参数
; chunk_size参数：[look_back, chunk_length, look_ahead]
; 默认[0, 10, 5]表示不回看、处理600ms、前瞻300ms
; 优化版[0, 10, 8]提高前瞻信息，改善前几个字识别准确度(会增加约180ms延迟)
chunk_size=0,10,8
; 编码器回看参数 - 增加上下文(默认0)
encoder_chunk_look_back=2
; 解码器回看参数 - 增加解码上下文(默认1)
decoder_chunk_look_back=2

; 模式选项：在准确度和延迟之间平衡
; accuracy: 高准确度模式 chunk_size=[0,10,8] encoder_back=2 decoder_back=2
; balanced: 平衡模式 chunk_size=[0,10,6] encoder_back=1 decoder_back=1  
; speed: 低延迟模式 chunk_size=[0,10,5] encoder_back=0 decoder_back=1
recognition_mode=accuracy

log_level=info
